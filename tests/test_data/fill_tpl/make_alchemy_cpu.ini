# TODO: the following line should generate this ini file
;namd_scripts —type gpu —run 1 —name test —input 7.1
[main]
tpl_file = tests/test_data/fill_tpl/alchemy_cpu_job.tpl, tests/test_data/fill_tpl/alchemy_inp.tpl
filled_tpl_name = {output_name}.pbs, {output_name}.inp
out_dir = tests/test_data/fill_tpl/
# Important Notes for this configuration file:
# 1) a [main] section is required
# 2) optional sections are [tpl_vals] and [tpl_val_equations]
# 3) [tpl_val_equations] allows key values to be calculated based on other key values. Equations are evaluated in the
#    order provided, so if an equation depends on the value computed from another equation, list the dependent
#    equation after its inputs.
# 4) Multiple values and equations may be listed for any keys. In that case, the program will create multiple output
#    files. If a static 'filled_tpl_name' is provided, the file will be overwritten, leaving only one filled file at
#    the end. The 'filled_tpl_name' can include keys (i.e. filled_tpl_name = {key1}.txt), so if multiple values are
#    listed for key1 (i.e. key1 = A,B,C), multiple output files will be created (A.txt, B.txt, C.txt)."
[tpl_vals]
job_name = alchemy_eq
runtime = 15
first = 5
structure = ../glucose_dual.psf
coordinates = ../glucose_dual.pdb
input_name = ../glucose_equilibrated
output_name = win1_eq

alch_type = FEP
alch_file = ../glucose_dual.pdb
alch_col =  B
alch_out_file = win1_eq.fepout
alch_out_freq = 10

alch_vdw_lambda_end = 1.0
alch_elec_lambda_start = 0.5
alch_vdw_shift_coeff = 6.0
alch_decouple = yes

alch_equil_steps = 500000
set_num_steps = 500000

alch_lambda = 0.0
alch_Lambda2 = 0.0625
[tpl_equations]
firststep = {first}*500000
walltime = int({runtime}*2)
endtime = ({first}+{runtime})
last = {endtime}*500000
run = {runtime}*500000
